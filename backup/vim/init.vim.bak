"""""""""""""""
"" Plugins 
"""""""""""""""
function InitPlugins()
  Plug 'ayu-theme/ayu-vim'
  Plug 'townk/vim-autoclose'
  Plug 'nvim-lua/plenary.nvim'
  Plug 'nvim-telescope/telescope.nvim'
  Plug 'preservim/nerdtree', { 'on': 'NERDTreeToggle'  } 
  Plug 'mxw/vim-jsx', { 'for': ['tsx', 'jsx'] }
  Plug 'rust-lang/rust.vim', { 'for': ['rs', 'toml'] } 
  Plug 'leafgarland/typescript-vim', { 'for': ['tsx', 'ts'] }
  Plug 'neoclide/coc.nvim', {'branch': 'release', 'on': 'CocEnable'}
  Plug 'dinhhuy258/vim-local-history'
endfunction

let last_telescope_picker = ""

function! OpenTelescopePicker(picker, resume) abort
  if &diff
    return
  endif

  if exists("g:NERDTree") && g:NERDTree.IsOpen()
    execute "NERDTreeClose"
  endif

  if g:last_telescope_picker == a:picker && a:resume
    execute "Telescope resume"
  else
    let g:last_telescope_picker = a:picker
    execute "Telescope ".a:picker
  endif
endfunction

